memory.limit(size=2500)
m1<-sqldf("select * from agg02 join cmte02 using (CID)")
m1<-sqldf("select * from j02 join cmpa02 using (CID)")
##Kings
#Playing the game
Cards= c("Ace","King","Queen","Jack",
"Ten","Nine","Eight","Seven","Six","Five","Four","Three","Two",
"torment","Ace","King","Queen","Jack",
"Ten","Nine","Eight","Seven","Six","Five","Four","Three","Two",
"torment","Ace","King","Queen","Jack",
"Ten","Nine","Eight","Seven","Six","Five","Four","Three","Two",
"torment","Ace","King","Queen","Jack",
"Ten","Nine","Eight","Seven","Six","Five","Four","Three","Two",
"torment")
Shuffle= function(n) sample(Cards[1:56],n,replace=T)
Shuffle(1)
boom<-function(){
urCard<-paste(Shuffle(1))
##Kings!
if(urCard=="King")
print("King, make a rule")
if(urCard=="Queen")
print("Queen, question")
if(urCard=="Jack")
print("Jack, categories")
if(urCard=="Ten")
print("Ten, never have I ever")
if(urCard=="Nine")
print("Nine, bust a rhyme")
if(urCard=="Eight")
print("Eight, pick a date")
if(urCard=="Seven")
print("Seven, heaven")
if(urCard=="Six")
print("Six, chicks")
if(urCard=="Five")
print("Five, guys")
if(urCard=="Four")
print("Four, floor")
if(urCard=="Three")
print("Three, me")
if(urCard=="Two")
print("Two, you")
if(urCard=="Ace")
print("Ace, waterfall")
if(urCard=="torment")
print("torment, drink the cup")
}
boom()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
library(foreign)
corp<-read.spss(file.choose())
corp
names(corp)
PACShorttag
corp$PACShorttag
corp[1:50,]
corp[1:10,]
ls()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
hi()
RollTide(2)
RollTide(2)
RollTide(2)
RollTide(2)
#Sex dice function
Actions= c("kiss","lick","suck","bite",
"spank","blow", "stroke",
"tickle","finger",
"torment")
Body=  c("lips","ass","chest","thighs",
"neck","ear", "back of knee",
"navel","nipples",
"the good stuff")
Action= function(n) sample(Actions[1:10],n,replace=T)
Body= function(n) sample(Body[1:10],n,replace=T)
Action(1)
Body(1)
#Sex dice function
Actions= c("kiss","lick","suck","bite",
"spank","blow", "stroke",
"tickle","finger",
"torment")
Area=  c("lips","ass","chest","thighs",
"neck","ear", "back of knee",
"navel","nipples",
"the good stuff")
Action= function(n) sample(Actions[1:10],n,replace=T)
Body= function(n) sample(Area[1:10],n,replace=T)
Action(1)
Body(1
)
hi()
hi()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
boom()
#Pool data
#load file
Cor02 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor02.csv")
Cor04 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor04.csv")
Cor06 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor06.csv")
Cor08 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor08.csv")
#Pool
Pool<-rbind(Cor02,Cor04)
Pl<-rbind(Cor06,Cor08)
Total<-rbind(Pool,Pl)
#Check
#Pool data
#load file
Cor02 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor02.csv")
Cor04 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor04.csv")
Cor06 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor06.csv")
Cor08 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor08.csv")
#Pool
Pool<-rbind(Cor02,Cor04)
Pl<-rbind(Cor06,Cor08)
Total<-rbind(Pool,Pl)
#Check
names(Total)
#Check
#OLS Model
#Create variables
SeniorP<- Speaker+Chairman+Maj_leader+(HRUL*Majority)
Seniorp<- Speaker+Chairman+Maj_leader
SeniorM<- Ranking_Member+Min_leader
#Model
m1<-AdjAmount~Seniorp+SeniorM+Majority+Party
summary(m1)
#check
summary(m1)
#Check
#OLS Model
#Create variables
SeniorP<- Speaker+Chairman+Maj_leader+(HRUL*Majority)
Seniorp<- Speaker+Chairman+Maj_leader
SeniorM<- Ranking_Member+Min_leader
#Model
m1<-lm(AdjAmount~Seniorp+SeniorM+Majority+Party)
summary(m1)
#check
names(Test)
names(test)
names(Total)
#Check
attach(Total)
#OLS Model
#Create variables
SeniorP<- Speaker+Chairman+Maj_leader+(HRUL*Majority)
Seniorp<- Speaker+Chairman+Maj_leader
SeniorM<- Ranking_Member+Min_leader
#Model
m1<-lm(AdjAmount~Seniorp+SeniorM+Majority+Party)
summary(m1)
#check
Seniorp<- (Speaker+Chairman+Maj_leader)
SeniorM<- (Ranking_Member+Min_leader)
#Model
m1<-lm(AdjAmount~Seniorp+SeniorM+Majority+Party)
summary(m1)
#check
Seniorp<- (Speaker+Chairman+Maj_leader)
SeniorM<- (Ranking_Member+Min_leader)
#Model
m1<-lm(AdjAmount~Seniorp+SeniorM+Majority)
summary(m1)
#check
Seniorp<- (Chairman+Maj_leader)
SeniorM<- (Ranking_Member+Min_leader)
#Model
m1<-lm(AdjAmount~Seniorp+SeniorM+Majority)
summary(m1)
#check
Seniorp<- (Speaker+Chairman+Maj_leader)
SeniorM<- (Ranking_Member+Min_leader)
#Model
m1<-lm(AdjAmount~Seniorp+SeniorM+Majority+PolParty)
summary(m1)
#check
#Model
m1<-lm(AdjAmount~SeniorP+SeniorM+Majority+PolParty)
summary(m1)
#check
#Pool data
#load file
Cor02 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor02.csv")
Cor04 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor04.csv")
Cor06 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor06.csv")
Cor08 <- read.csv("C:\\Documents and Settings\\Ty\\My Documents\\leadership paper\\data\\take 2\\final data\\Cor08.csv")
#Pool
Pool<-rbind(Cor02,Cor04)
Pl<-rbind(Cor06,Cor08)
Total<-rbind(Pool,Pl)
#Check
attach(Total)
#OLS Model
#Create variables
SeniorP<- Speaker+Chairman+Maj_leader+(HRUL*Majority)
Seniorp<- (Speaker+Chairman+Maj_leader)
SeniorM<- (Ranking_Member+Min_leader)
#Model
m1<-lm(AdjAmount~SeniorP+SeniorM+Majority+PolParty)
summary(m1)
ls()
P1
#Check
attach(Total)
#OLS Model
#Create variables
SeniorP<- Speaker+Chairman+Maj_leader+(HRUL*Majority)
Seniorp<- (Speaker+Chairman+Maj_leader)
SeniorM<- (Ranking_Member+Min_leader)
#Model
m1<-lm(AdjAmount~SeniorP+SeniorM+Majority+PolParty)
summary(m1)
## Get the index constituents.
ftse.100 <- read.csv(file = "http://uk.old.finance.yahoo.com/d/quotes.csv?s=@%5EFTSE&f=s&e=.csv", header = FALSE)
names(ftse.100) <- c("symbol")
data <- data.frame(symbol=NULL, employees=NULL, profit=NULL, sector=NULL)
## For each stock symbol, get employees, profit, and sector
## For each stock symbol, get employees, profit, and sector
for (symbol in ftse.100$symbol) {
    profile.url <- paste("http://uk.finance.yahoo.com/q/pr?s=", symbol, sep="")
    con <- url(profile.url, open = "r")
    text <- readChar(con, 2^24)     # enough bytes
    close(con)
    x <- sub('.*Number of employees:</td><td.*?>[[:space:]]*([[:digit:],]+).*', "\\1", text, ignore.case = TRUE)
    x <- gsub(',', '', x)
    empl <- tryCatch(as.integer(x), warning = function(x) NA)
    x <- sub('.*Net Profit.*?</td><td.*?>[[:space:]]*([+-]?[[:digit:],]+).*', '\\1', text)
    x <- gsub(',', '', x)
    profit <- tryCatch(as.integer(x)*1e6, warning = function(x) NA)
    sector <- sub('.*Sector:</td><td.*?>(.*?)</td>.*', '\\1', text)
    if (any(c(empl, profit) <= 0, is.na(c(empl, profit)))) {
        cat("Error parsing symbol", symbol, "see", profile.url, "\n")
    } else {
        data <- rbind(data, data.frame(symbol=symbol, employees=empl, profit=profit, sector=sector))
    }
    Sys.sleep(1)
}
## Save the data so we don't have to hit Yahoo all the time.
#Clean House
rm(list = ls(), envir = globalenv())
ls()
retail<-read.csv(file.choose())
library(sqldf)
names(retail)
r1<-sqldf("select * count (Amount) total from retail group by Orgname")
r1<-sqldf("select (*), count (Amount) total from retail group by Orgname")
r1<-sqldf("select *, count (Amount) total from retail group by Orgname")
summary(r1)
r1[1:10,]
#merge pac, cand file for each year
#load file
#PAC
pacs90<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs90.csv")
pacs92<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs92.csv")
pacs94<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs94.csv")
pacs96<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs96.csv")
pacs98<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs98.csv")
pacs00<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs00.csv")
pacs02<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs02.csv")
pacs04<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs04.csv")
pacs06<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs06.csv")
pacs08<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs08.csv")
pacs10<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\pacs\\pacs10.csv")
cands90<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands90.csv")
cands92<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands92.csv")
cands94<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands94.csv")
cands96<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands96.csv")
cands98<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands98.csv")
cands00<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands00.csv")
cands02<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands_02.csv")
cands04<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands04.csv")
cands06<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands06.csv")
cands08<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands08.csv")
cands10<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands10.csv")
#check
#library
ls()
rm(list = ls(), envir = globalenv())
cands10<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\crp data\\By Type\\Candidate\\cands10.csv")
#check
cand<-read.csv(file.choose())
cand[1:10,]
cands10[1:10,]
cand<-read.csv(file.choose())
m10<-sqldf("select * from cand join cands10 using (Cycle)")
m10
m10<-sqldf("select * from cand join cands10 using (CID)")
#check
m10
cands10[1:10,]
m1<-merge(cand,cands10,by.x="CID",by.y="CID")
m1
cand<-read.csv(file.choose())
m10<-sqldf("select * from cand join cands10 using (CID)")
m10
library(foreign)
jake<-read.spss(file.choose())
names(jake)
jake<-read.spss(file.choose())
names(jake)
jake<-read.spss(file.choose())
names(jake)
jake[1:10,]
summary(jake)
jake$name
attach(jake)
jake[1:10,]
jake[,1:10]
jake
names(jake)
cand<-read.csv(file.choose()
)
m10<-sqldf("select * from cand join jake using (CID)")
attach(jake)
m10<-sqldf("select * from cand join jake using (CID)")
library(sqldf)
m10<-sqldf("select * from jake join cand using (CID)")
jake$AdjAmount
names(jake)
j1<-sqldf("select Cycle,FECRecNo,PACID,CID,Name,com_nam,Company,
state,district,FIPS,stcd from jake group by CID")
#write table
#library
library(XML)
setwd("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\wed.meeting")
#writing table to csv
out_file <- file("jake.csv", open="a")
write.table(jake, file=out_file, sep=",", dec=".", quote=FALSE, 
col.names=NA, row.names=TRUE)
close(out_file)
#check
jake<-read.csv(file.choose())
summary(jake)
j1<-sqldf("select Cycle,FECRecNo,PACID,CID,Name,com_nam,Company,
state,district,FIPS,stcd from jake group by CID")
rm(list = ls(), envir = globalenv())
j2<-read.csv(file.choose())
names(cand)
cand<-read.csv(file.choose())
library(sqldf)
m10<-sqldf("select * from j2 join cand using (CID)")
m10[1:10,]
names(m10)
ls()
cand08<-read.csv(file.choose())
pac08<-read.csv(file.choose())
m10<-sqldf("select * from cand08 join pac08 using (CID)")
m10
m10[1:10,]
names(m10)
cpac08<-sqldf("select * from m10 group by PACID")
cpac08[1:10,]
retail.c<-read.csv(file.choose())
m10<-sqldf("select * from 'retail.c' join cpac08 using (CID)")
m10[1:10,]
ls()
m10<-sqldf("select * from 'retail.c' join cand08 using (CID)")
m10
cand10<-read.csv(file.choose())
retailc10<-read.csv(file.choose())
m10<-sqldf("select * from retailc10 join cand10 using (CID)")
m10
cpac08[1:10,]
retailp<-read.csv(file.choose())
names(retailp)
pacmatch<-read.csv(file.choose())
m10<-sqldf("select * from retailp join pacmatch using (PACID)")
m10
ls()
m10<-sqldf("select * from pac08 join pacmatch using (PACID)")
m10[1:10,]
ls()
r1<-sqldf("select * from 'retail.c' group by CID")
r1
ls()
cand
cand[1:10,]
r1[1:10,]
m10[1:10,]
rm(list = ls(), envir = globalenv())
#load file
retail<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\wed.meeting\\Retail1.csv")
#check
names(retail)
#load file
retail<-read.csv("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\wed.meeting\\Retail1.csv")
#check
#library
library(sqldf)
#aggregate by donor,year
donor<-sqldf("select Cycle, ContribID,Contrib,ConFirst,Orgname,UltOrg,
RealCode,Date,Amount, AdjAmount,Street,City,State,Zip,Gender,
FecOccEmp, count (AdjAmount) total from retail group by 
Cycle,ContribID")
donor
donor[1:10,]
fix(donor)
donor<-sqldf("select Cycle, ContribID,Contrib,ConFirst,Orgname,UltOrg,
RealCode,Date,Amount, AdjAmount,Street,City,State,Zip,Gender,
count (AdjAmount) total from retail group by 
Cycle,ContribID")
fix(donor)
>=
6>=6
bigdonor<-sqldf("select * from donor where Amount >= 1000 group by
Cycle,ContribID")
fix(bigdonor)
bigID<-sqldf("select * from bigdonor join donor using (ContribID)
group by Cycle,ContribID)
)
)
)
)))
bigID<-sqldf("select * from bigdonor join donor using (ContribID))
bigID<-sqldf("select * from bigdonor join donor using (ContribID)
group by Cycle,ContribID")
fix(bigID)
names(bigID)
names(retail)
donor<-sqldf("select Cycle, ContribID,Contrib,ConFirst,Orgname,UltOrg,
RealCode,Date,Amount, AdjAmount,Street,City,State,Zip,Gender,FecOccEmp,
count (AdjAmount) total from retail group by 
Cycle,ContribID")
bigID<-sqldf("select * from bigdonor join donor using (ContribID)
group by Cycle,ContribID")
fix(bigID)
names(bigID)
influential<-sqldf("select Cycle, ContribID,Contrib,ConFirst,Orgname,
UltOrg,RealCode,Date,Amount, AdjAmount,Street,City,State,Zip,
Gender,FecOccEmp,count (AdjAmount) total from bigID group by 
Cycle,Orgname")
#write table
#library
library(XML)
setwd("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\wed.meeting")
#writing table to csv
out_file <- file("influential.csv", open="a")
write.table(influential, file=out_file, sep=",", dec=".", quote=FALSE, 
col.names=NA, row.names=TRUE)
close(out_file)
#check
#check
littledonor<-sqldf("select * from donor where Amount < 1000 group by
Cycle,ContribID")
lilID<-sqldf("select * from littledonor join donor using (ContribID)
group by Cycle,ContribID")
otherdonor<-sqldf("select Cycle, ContribID,Contrib,ConFirst,Orgname,
UltOrg,RealCode,Date,Amount, AdjAmount,Street,City,State,Zip,
Gender,FecOccEmp,count (AdjAmount) total from lilID group by 
Cycle,Orgname")
#write table
#library
library(XML)
setwd("C:\\Documents and Settings\\Ty\\My Documents\\Krasno.RA\\Data\\wed.meeting")
#writing table to csv
out_file <- file("little  donors.csv", open="a")
write.table(otherdonor, file=out_file, sep=",", dec=".", quote=FALSE, 
col.names=NA, row.names=TRUE)
close(out_file)
#check
